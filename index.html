<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>爱心气泡飞出动画</title>
    <style>
        /* 容器样式 */
        #heart-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .content {
            position: absolute;
            top: 30%;
            left: 30%;
        }

        .heart {
            position: absolute;
            bottom: 0;
            /* clip-path: path("M10 30 A20 20 0 0 1 50 30 A20 20 0 0 1 90 30 Q50 60 10 30"); */
            animation: fly 5s linear forwards;
        }
    </style>
</head>

<body>
    <!-- 爱心容器 -->
    <div id="heart-container">
        <div class="content">
            <img id="mainImage" src="https://37tt.github.io/tang-love/images/heart.png" alt="爱心">
            <h1 id="question">可以成为我的恋人吗？</h1>
            <div class="buttons">
                <button id="yes">可以</button>
                <button id="no">不要</button>
            </div>
        </div>
    </div>
    <script>
        // 获取爱心容器元素
        const container = document.getElementById('heart-container');
        // 存储所有爱心元素的数组
        const hearts = [];

        // 定义爱心类
        class Heart {
            constructor() {
                // 创建一个新的 div 元素作为爱心
                this.element = <svg t="1739696545503" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="4359" width="200" height="200"><path d="M334.848 343.04q22.528-28.672 49.152-50.176 22.528-18.432 50.176-33.792t57.344-13.312q43.008 3.072 71.68 20.48t45.568 43.008 23.04 58.368 4.096 66.56-13.312 64.512-27.136 57.856-34.304 49.664-36.864 40.96q-27.648 28.672-58.368 54.784t-58.368 46.08-49.664 31.744-32.256 11.776q-12.288 0-32.256-12.288t-44.544-32.256-52.224-46.08-55.296-52.736q-17.408-17.408-38.912-39.424t-40.448-48.128-32.256-57.344-14.336-67.072q-2.048-34.816 7.168-66.048t27.136-55.808 44.032-41.472 58.88-24.064 65.024 6.656 58.88 33.28q30.72 22.528 58.368 54.272zM611.328 245.76q13.312 0 25.6 1.024 11.264 1.024 23.552 3.072t21.504 6.144 19.456 10.752 19.456 12.8l20.48 16.384q6.144-6.144 13.312-11.264 13.312-10.24 35.84-23.552 12.288-7.168 28.672-10.752t33.28-2.56 33.28 6.656 27.648 17.92q31.744 33.792 37.888 66.048t-1.536 60.416-23.04 49.664-27.648 33.792q-23.552 23.552-44.544 40.96t-51.712 39.936q-16.384 11.264-34.304 19.456t-27.136 8.192q-9.216 1.024-19.968-7.68t-26.112-19.968q-7.168-5.12-13.312-12.288l-12.288-11.264-12.288-12.288q11.264-20.48 18.432-46.08 6.144-21.504 9.216-50.688t-3.072-62.976q-7.168-31.744-18.944-55.296t-23.04-37.888q-13.312-17.408-28.672-28.672z" p-id="4360"></path></svg>;
                this.element.classList.add('heart');
                // 随机设置爱心的初始水平位置
                this.x = Math.random() * window.innerWidth;
                this.y = window.innerHeight;
                // 随机设置爱心的水平和垂直速度
                this.speedX = (Math.random() - 0.5) * 3;
                this.speedY = -(Math.random() * 5 + 3);
                // 随机设置爱心的大小
                this.size = Math.random() * 20 + 10;
                // 随机设置爱心的颜色
                this.color = `rgba(${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, ${Math.floor(Math.random() * 256)}, 0.8)`;
                // 设置爱心的样式
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
                this.element.style.width = `${this.size}px`;
                this.element.style.height = `${this.size}px`;
                this.element.style.backgroundColor = this.color;
                // 将爱心元素添加到容器中
                container.appendChild(this.element);
            }

            // 更新爱心的位置
            update() {
                this.x += this.speedX;
                this.y += this.speedY;
                // 模拟重力效果
                this.speedY += 0.1;
                // 更新爱心元素的位置样式
                this.element.style.left = `${this.x}px`;
                this.element.style.top = `${this.y}px`;
            }

            // 检查爱心是否超出容器范围
            isOutOfBounds() {
                return this.y > window.innerHeight || this.x < 0 || this.x > window.innerWidth;
            }

            // 移除爱心元素
            remove() {
                container.removeChild(this.element);
            }
        }

        // 生成新的爱心
        function createHeart() {
            const heart = new Heart();
            hearts.push(heart);
            // 每隔 300 毫秒生成一个新的爱心
            setTimeout(createHeart, 300);
        }

        // 动画循环函数
        function animate() {
            for (let i = hearts.length - 1; i >= 0; i--) {
                const heart = hearts[i];
                heart.update();
                if (heart.isOutOfBounds()) {
                    heart.remove();
                    hearts.splice(i, 1);
                }
            }
            // 继续下一帧动画
            requestAnimationFrame(animate);
        }

        // 开始生成爱心和动画循环
        createHeart();
        animate();
    </script>
</body>

</html>